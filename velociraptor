<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Велоцираптор (Velociraptor)</title>
  <style>
    body {{ margin: 0; font-family: Arial, sans-serif; background: #111; color: #eee; }}
    #container {{ width: 100vw; height: 60vh; display:block; }}
    .info {{ padding: 12px; max-width: 900px; margin: 10px auto; background: rgba(255,255,255,0.03); border-radius:8px; }}
    h1 {{ margin:0 0 6px 0; font-size: 20px; }}
    p {{ margin:6px 0; line-height:1.4; }}
    .controls {{ text-align:center; margin-top:8px; }}
    button {{ padding:8px 12px; border-radius:6px; border:none; background:#2a9d8f; color:white; font-weight:600; }}
    small {{ color:#aaa; display:block; margin-top:6px; }}
    a.link {{ color:#ffd166; }}
  </style>
</head>
<body>
  <div id="container"></div>
  <div class="info">
    <h1>Велоцираптор (Velociraptor) — краткая информация</h1>
    <p><strong>Период:</strong> Поздняя меловая (≈75–71 млн лет назад)</p>
    <p><strong>Рост / длина:</strong> Длина ~2 м, высота около 0.5–1 м</p>
    <p>Малый и быстрый хищник, известен своими острыми изогнутыми когтями на задних лапах. Быстрый и ловкий.</p>
    <div class="controls">
      <button id="resetBtn">Сбросить положение</button>
      <small>Проворачивай модель двумя пальцами или мышью. Увеличивай/уменьшай колёсиком.</small>
    </div>
    <p style="margin-top:10px; font-size:13px">Если хотите — можно подключить AR-режим (Scene Viewer / Quick Look), для этого требуются реальные .glb модели и HTTPS-хостинг. В README — инструкция как разместить и сделать QR-коды.</p>
  </div>

<script src="https://cdn.jsdelivr.net/npm/three@0.154.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.154.0/examples/js/controls/OrbitControls.js"></script>
<script>
  // Basic Three.js scene with simple low-poly dinosaur composed of primitives.
  const scene = new THREE.Scene();
  scene.background = new THREE.Color(0x111111);
  const camera = new THREE.PerspectiveCamera(45, window.innerWidth / (window.innerHeight * 0.6), 0.1, 1000);
  camera.position.set(0, 2, 6);

  const renderer = new THREE.WebGLRenderer({antialias:true});
  renderer.setSize(window.innerWidth, window.innerHeight * 0.6);
  document.getElementById('container').appendChild(renderer.domElement);

  const hemi = new THREE.HemisphereLight(0xffffff, 0x444444, 0.9);
  hemi.position.set(0, 20, 0);
  scene.add(hemi);
  const dir = new THREE.DirectionalLight(0xffffff, 0.8);
  dir.position.set(5,10,7);
  scene.add(dir);

  // simple ground
  const groundMat = new THREE.MeshStandardMaterial({color:0x222222, metalness:0.1, roughness:0.9});
  const ground = new THREE.Mesh(new THREE.PlaneGeometry(40,40), groundMat);
  ground.rotation.x = -Math.PI/2;
  ground.position.y = -1.1;
  scene.add(ground);

  // Dino group (customized by variables)
  const dino = new THREE.Group();

  // Body
  const bodyMat = new THREE.MeshStandardMaterial({color:0x8a6234, metalness:0.2, roughness:0.6});
  const body = new THREE.Mesh(new THREE.CapsuleGeometry(0.8, 1.6, 4, 8), bodyMat);
  body.rotation.z = Math.PI/2;
  body.position.set(0,0.2,0);
  dino.add(body);

  // Head
  const head = new THREE.Mesh(new THREE.SphereGeometry(0.35, 16, 12), bodyMat);
  head.position.set(1.6,0.45,0);
  head.scale.set(1.2,0.9,0.9);
  dino.add(head);

  // Snout (cone)
  const snout = new THREE.Mesh(new THREE.ConeGeometry(0.18, 0.5, 8), bodyMat);
  snout.rotation.z = Math.PI/2;
  snout.position.set(2.05,0.45,0);
  dino.add(snout);

  // Tail
  const tail = new THREE.Mesh(new THREE.ConeGeometry(0.3,2,8), bodyMat);
  tail.rotation.z = -Math.PI/4;
  tail.position.set(-1.9,0.35,0);
  tail.scale.set(1,0.9,1);
  dino.add(tail);

  // Legs (simple cylinders)
  const legMat = new THREE.MeshStandardMaterial({color:0x6b3f27, metalness:0.1, roughness:0.9});
  function makeLeg(x,z){
    const upper = new THREE.Mesh(new THREE.CylinderGeometry(0.18,0.22,0.8,8), legMat);
    upper.position.set(x,-0.5,z);
    upper.rotation.x = Math.PI/12;
    dino.add(upper);
    const foot = new THREE.Mesh(new THREE.BoxGeometry(0.26,0.12,0.5), legMat);
    foot.position.set(x,-0.95,z+0.1);
    dino.add(foot);
  }
  makeLeg(0.6,0.5);
  makeLeg(0.6,-0.5);
  makeLeg(-0.6,0.5);
  makeLeg(-0.6,-0.5);

  // Simple frill/horns for Triceratops option (added conditionally)
  

  scene.add(dino);

  // Add a subtle animation
  const clock = new THREE.Clock();
  function animate(){
    requestAnimationFrame(animate);
    const t = clock.getElapsedTime();
    dino.rotation.y = 0.15 * Math.sin(t/3);
    renderer.render(scene, camera);
  }

  // Controls
  const controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.target.set(0,0.2,0);
  controls.update();

  window.addEventListener('resize', ()=> {{
    renderer.setSize(window.innerWidth, window.innerHeight * 0.6);
    camera.aspect = window.innerWidth / (window.innerHeight * 0.6);
    camera.updateProjectionMatrix();
  }});

  document.getElementById('resetBtn').onclick = ()=> {{
    dino.position.set(0,0,0);
    dino.rotation.set(0,0,0);
    camera.position.set(0,2,6);
    controls.update();
  }};

  animate();
</script>
</body>
</html>
